{% extends 'base.html' %}
{% load static %}

{% block title %}Detalle del grupo{% endblock %}

{% block content %}
<h2>{{ grupo.nombre }}</h2>

<p><strong>Visibilidad:</strong> {{ grupo.get_visibilidad_display }}</p>
<p><strong>Descripción:</strong> {{ grupo.descripcion }}</p>
<p><strong>Fecha creación:</strong> {{ grupo.fecha_creacion|date:"d M Y H:i" }}</p>

{% if grupo.avatar %}
  <img src="{{ grupo.avatar.url }}" width="120" style="border-radius:8px; margin-top:10px;">
{% endif %}

<h3>Miembros del grupo</h3>

{% if miembros %}
  <ul style="list-style:none; padding:0;">
    {% for m in miembros %}
      <li style="margin-bottom:10px; padding:8px; border:1px solid #ddd;">
        <strong>{{ m.usuario.user.username }}</strong><br>
        <small>Rol: {{ m.get_rol_display }} — Unido: {{ m.fecha_union|date:"d M Y H:i" }}</small>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>Este grupo no tiene miembros aún.</p>
{% endif %}

<p style="margin-top:12px;">
  <a href="{% url 'lista-grupos' %}">Volver a la lista de grupos</a> |
  <a href="{% url 'lista-miembros' %}">Ver todos los miembros</a>
</p>

{% endblock %}
