{% extends 'base.html' %}

{% block title %}Publicaciones{% endblock %}

{% block content %}
<h2>Lista de Publicaciones</h2>

{% if publicaciones %}
<ul style="list-style: none; padding: 0;">
    {% for p in publicaciones %}
    <li style="border:1px solid #ddd; border-radius:8px; padding:15px; margin-bottom:15px; background-color:#fafafa; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
        
        <!-- Usuario y fecha -->
        <div style="display:flex; align-items:center; margin-bottom:8px;">
            <div style="font-weight:bold; margin-right:10px;">{{ p.usuario.user.username }}</div>
            <div style="color:#777; font-size:0.9em;">{{ p.fecha_creacion|date:"d M Y H:i" }} â€” {{ p.get_visibilidad_display }}</div>
        </div>

        <!-- Contenido -->
        <p style="margin-bottom:10px;">{{ p.contenido }}</p>

        <!-- Archivo adjunto -->
        {% if p.archivo_adjunto %}
        <p>
            <a href="{{ p.archivo_adjunto.url }}" style="color:#1a73e8; text-decoration:none;">ðŸ“Ž Ver archivo adjunto</a>
        </p>
        {% endif %}

        <!-- Tipo de publicaciÃ³n -->
        <div style="font-size:0.85em; color:#555;">Tipo: {{ p.get_tipo_display }}</div>

    </li>
    {% endfor %}
</ul>
{% else %}
<p>No hay publicaciones creadas aÃºn.</p>
{% endif %}

{% endblock %}
